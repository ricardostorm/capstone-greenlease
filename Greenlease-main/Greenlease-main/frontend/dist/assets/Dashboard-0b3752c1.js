import{j as t,a3 as R,r,Q as f,D as e,F as p,R as s,a4 as S,a5 as A,a6 as _,a7 as b,a8 as B,a9 as D,aa as E}from"./index-833ef727.js";import{_ as H,A as a}from"./react-apexcharts.min-3c450f43.js";import{P as I,A as K,a as N,L as T,b as j,c as k,C as z}from"./Cards-13985af3.js";function y({percentage:n}){const i=[n],o=()=>n<30?["#e86666"]:n<70?["#FCDB87"]:["#8EC27B"],d={colors:o(),plotOptions:{radialBar:{hollow:{margin:50,size:"60%"},dataLabels:{showOn:"always",name:{offsetY:10,show:!0,color:"black",fontSize:"30px"},value:{color:"#111",fontSize:"30px",show:!1}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",gradientToColors:o(),stops:[0,100]}},stroke:{lineCap:"round"},labels:[`${n}%`]};return t(H,{options:d,series:i,type:"radialBar",width:"300"})}function Y(){const[n,i]=R("user",null);return t("div",{className:"dashboard",children:n.type==="landlord"?t(F,{user:n}):t(O,{user:n})})}function F({user:n}){const[i,o]=r.useState(0),d=async()=>{o(await S(n.landlord_id))},[c,h]=r.useState(null),u=async()=>{h(await A(n.landlord_id))},[g,m]=r.useState(null),v=async()=>{m(await _(n.landlord_id))},[C,w]=r.useState(null),L=async()=>{w(await b(n.landlord_id))},[l,P]=r.useState(null),x=async()=>{P(await B(n.landlord_id))};return r.useEffect(()=>{d(),u(),v(),L(),x()},[]),!c||!g||!C||!l?t(f,{}):e(p,{children:[t(s,{children:e("div",{className:"rating",children:[t("h2",{children:"Landlord Rating"}),t(y,{percentage:i})]})}),e(a,{flush:!0,alwaysOpen:!0,children:[e(a.Item,{eventKey:"0",children:[e(a.Header,{children:["Pending Contracts (",c.length,")"]}),t(a.Body,{children:t(s,{xs:"auto",children:t(I,{pendingContracts:c})})})]}),e(a.Item,{eventKey:"1",children:[e(a.Header,{children:["Active Contracts (",g.length,")"]}),t(a.Body,{children:t(s,{xs:"auto",children:t(K,{activeContracts:g})})})]}),e(a.Item,{eventKey:"2",children:[e(a.Header,{children:["My Listings (",C.length,")"]}),t(a.Body,{children:e(s,{xs:"auto",children:[t(N,{properties:l}),t(T,{listings:C})]})})]}),e(a.Item,{eventKey:"3",children:[e(a.Header,{children:["My Properties (",l.length,")"]}),t(a.Body,{children:e(s,{xs:"auto",children:[t(j,{}),t(k,{properties:l})]})})]})]})]})}function O({user:n}){const[i,o]=r.useState(0),d=async()=>{o(await D(n.tenant_id))},[c,h]=r.useState(null),u=async()=>{h(await E(n.tenant_id))};return r.useEffect(()=>{d(),u()},[]),c?e(p,{children:[t(s,{children:e("div",{className:"rating",children:[t("h2",{children:"Tenant Rating"}),t(y,{percentage:i})]})}),t(s,{xs:"auto",className:"current-contracts",children:t(z,{currentContracts:c})})]}):t(f,{})}export{Y as default};
